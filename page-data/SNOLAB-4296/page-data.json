{"componentChunkName":"component---src-templates-post-js","path":"/SNOLAB-4296","result":{"data":{"markdownRemark":{"html":"<p>几个 Python 控制台交互练习</p>\n<h2 id=\"用-python-写了个3d旋转三角形\"><a href=\"#%E7%94%A8-python-%E5%86%99%E4%BA%86%E4%B8%AA3d%E6%97%8B%E8%BD%AC%E4%B8%89%E8%A7%92%E5%BD%A2\" aria-label=\"用 python 写了个3d旋转三角形 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>用 python 写了个3D旋转三角形</h2>\n<p>先上效果图！</p>\n<p><img src=\"/a0114fef6e6fb2db41258d9ff0726c82/%E7%94%A8python%E5%86%99%E4%BA%86%E4%B8%AA3D%E6%97%8B%E8%BD%AC%E4%B8%89%E8%A7%92%E5%BD%A2.gif\"></p>\n<p>然后是代码！</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> random\n<span class=\"token comment\"># import numpy as np # </span>\n<span class=\"token keyword\">import</span> math\n<span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> time\nos<span class=\"token punctuation\">.</span>system<span class=\"token punctuation\">(</span><span class=\"token string\">\"title welcome to 3D try of snowstar.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># 今天来做一个 显示 #D 图形的实验</span>\n<span class=\"token comment\"># 好的开始！</span>\n\n<span class=\"token comment\"># 首先，构造一个三维空间</span>\n<span class=\"token comment\"># ↑ 没错，构造完了</span>\n\n<span class=\"token comment\"># 给刚才构造的物体连一连线，这样会比较直观一点！</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">makePointsFromLine</span><span class=\"token punctuation\">(</span>pointA<span class=\"token punctuation\">,</span> pointB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    t <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    step <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    points <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token comment\"># 嗯，教科书式的求两点距离公式</span>\n    pointDistance <span class=\"token operator\">=</span> math<span class=\"token punctuation\">.</span>sqrt<span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">(</span>pointB<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> pointA<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">**</span> <span class=\"token number\">2</span> <span class=\"token operator\">+</span>\n        <span class=\"token punctuation\">(</span>pointB<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> pointA<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">**</span> <span class=\"token number\">2</span> <span class=\"token operator\">+</span>\n        <span class=\"token punctuation\">(</span>pointB<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> pointA<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">**</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># 百分比步伐。。。这里x0.9的意思是步子小一点点，让点稍微密一点点(当然也会更慢)</span>\n    percentStep <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1.0</span> <span class=\"token operator\">/</span> pointDistance<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.9</span>\n\n    <span class=\"token comment\"># 基本上就是把这条线切成好多个点，每个点的距离是这条线的 百分之 percent    </span>\n    percent <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">while</span> percent <span class=\"token operator\">&lt;=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n        x <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">round</span><span class=\"token punctuation\">(</span>pointA<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> percent <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>pointB<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> pointA<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  \n        y <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">round</span><span class=\"token punctuation\">(</span>pointA<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> percent <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>pointB<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> pointA<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        z <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">round</span><span class=\"token punctuation\">(</span>pointA<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> percent <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>pointB<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> pointA<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        points<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n        percent <span class=\"token operator\">+=</span> percentStep\n\n    <span class=\"token keyword\">return</span> points\n\n<span class=\"token comment\"># 我发誓这是我取过的最长的函数名了。。。2016年8月29日17:41:08</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">makePointsFromLinesFromPointsToPoints</span><span class=\"token punctuation\">(</span>dongXi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    pointsFromLines <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token builtin\">len</span> <span class=\"token operator\">=</span> dongXi<span class=\"token punctuation\">.</span>__len__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> a <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">for</span> b <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            pointA <span class=\"token operator\">=</span> dongXi<span class=\"token punctuation\">[</span>a<span class=\"token punctuation\">]</span>\n            pointB <span class=\"token operator\">=</span> dongXi<span class=\"token punctuation\">[</span>b<span class=\"token punctuation\">]</span>\n            pointsFromLines <span class=\"token operator\">+=</span> makePointsFromLine<span class=\"token punctuation\">(</span>pointA<span class=\"token punctuation\">,</span> pointB<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> pointsFromLines\n\n\n<span class=\"token comment\"># 嗯好了，来画一个屏幕</span>\nw <span class=\"token operator\">=</span> <span class=\"token number\">59</span>\nh <span class=\"token operator\">=</span> <span class=\"token number\">26</span>\n\n<span class=\"token comment\"># 这个就是被拍扁的z轴了（看不懂跳过，先看下面</span>\nzlist <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># 用不同的符号表示远近，越粗的越近，模拟近大远小</span>\nzsign <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"@@\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"88\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"OO\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\";;\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"::\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"..\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" .\"</span><span class=\"token punctuation\">]</span>\nzsignlen <span class=\"token operator\">=</span> zsign<span class=\"token punctuation\">.</span>__len__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 这个函数决定屏幕上的某点显示什么鬼，是整个程序中最核心的部分</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">posChar</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">global</span> zlist\n    <span class=\"token keyword\">global</span> zlistlen\n    <span class=\"token keyword\">global</span> zsign\n    <span class=\"token keyword\">global</span> zsignlen\n    <span class=\"token keyword\">global</span> points\n    <span class=\"token keyword\">global</span> points2D\n    i <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">]</span> <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> points2D<span class=\"token punctuation\">:</span> <span class=\"token comment\"># 去掉那些没有点的地方</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"  \"</span>\n\n    <span class=\"token keyword\">for</span> z <span class=\"token keyword\">in</span> zlist<span class=\"token punctuation\">:</span> <span class=\"token comment\"># 按z轴 从大到小询问，这里有没有人啊！！有没有啊！！</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">]</span> <span class=\"token keyword\">in</span> points<span class=\"token punctuation\">:</span> <span class=\"token comment\"># 如果有的话！！就印出来啦！！</span>\n            <span class=\"token keyword\">return</span> zsign<span class=\"token punctuation\">[</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">*</span> zsignlen <span class=\"token operator\">/</span> zlistlen<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span>\n        i <span class=\"token operator\">+=</span> <span class=\"token number\">1</span> <span class=\"token comment\"># 嗯, i变大的时候，zsign 的图画就会变小了</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"XX\"</span> <span class=\"token comment\"># 理论上这条不会被运行到，不过。。。万一我蠢呢！！！</span>\n\n\n<span class=\"token comment\"># 这个函数是去除重复的点用的</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">removeDupes</span><span class=\"token punctuation\">(</span>seq<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    checked <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> e <span class=\"token keyword\">in</span> seq<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> e <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> checked<span class=\"token punctuation\">:</span>\n            checked<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> checked\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">perpareForPoints</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># 给上面的那个奇怪的形状，画成线，然后得到一堆点</span>\n    <span class=\"token keyword\">global</span> points\n    <span class=\"token keyword\">global</span> zlist\n    <span class=\"token keyword\">global</span> zlistlen\n    <span class=\"token keyword\">global</span> points\n    <span class=\"token keyword\">global</span> points2D\n    points   <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">round</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> v <span class=\"token keyword\">in</span> point<span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> point <span class=\"token keyword\">in</span> pointSource<span class=\"token punctuation\">]</span>\n    <span class=\"token comment\"># 画完之后是一堆3D空间上的点，把Z轴拍扁，变成2D空间点集</span>\n    points2D <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>point<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> point <span class=\"token keyword\">in</span> points<span class=\"token punctuation\">]</span>\n    <span class=\"token comment\"># 接下来要抠掉多余的因为拍扁而 叠在一起的2D的点，每个位置留一个就够啦</span>\n    points2D <span class=\"token operator\">=</span> removeDupes<span class=\"token punctuation\">(</span>points2D<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># 聪明的你已经发现。。上面2步只用1行就可以完成...</span>\n\n    <span class=\"token comment\"># 然后把那个3D的点集排成一个z轴，让它分一分前后</span>\n    zlist <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>point<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> point <span class=\"token keyword\">in</span> points<span class=\"token punctuation\">]</span>\n    zlist<span class=\"token punctuation\">.</span>sort<span class=\"token punctuation\">(</span>reverse<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 从大到小排，大的在前面</span>\n    zlistlen <span class=\"token operator\">=</span> zlist<span class=\"token punctuation\">.</span>__len__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    \n    <span class=\"token comment\"># 开始渲染！！</span>\n    buf <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    buf<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">\"=\"</span><span class=\"token operator\">*</span><span class=\"token number\">45</span><span class=\"token operator\">+</span><span class=\"token string\">\"welcome to 3D try of snowstar.\"</span><span class=\"token operator\">+</span><span class=\"token string\">\"=\"</span><span class=\"token operator\">*</span><span class=\"token number\">44</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> y <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>h<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> h<span class=\"token operator\">-</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>h<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># 这么要紧的地方怎么可以没有注释呢！！！！嗯有了</span>\n        buf<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span> posChar<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>w<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> w<span class=\"token operator\">-</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>w<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span>\n    buf<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">\"=\"</span><span class=\"token operator\">*</span><span class=\"token number\">45</span><span class=\"token operator\">+</span><span class=\"token string\">\"welcome to 3D try of snowstar.\"</span><span class=\"token operator\">+</span><span class=\"token string\">\"=\"</span><span class=\"token operator\">*</span><span class=\"token number\">44</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># 打到屏幕上</span>\n    os<span class=\"token punctuation\">.</span>system<span class=\"token punctuation\">(</span><span class=\"token string\">\"cls\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>buf<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span> <span class=\"token number\">1.0</span><span class=\"token operator\">/</span><span class=\"token number\">61</span> <span class=\"token punctuation\">)</span> <span class=\"token comment\"># 设定为 60 fps</span>\n\n\n<span class=\"token comment\"># 定义几个矩阵计算用的函数</span>\n\n<span class=\"token comment\"># 别问我为什么不用numpy.....</span>\n<span class=\"token comment\"># 因为。。。。我要用这东西教小盆友的啊！</span>\n<span class=\"token comment\"># 这样我就不用再教人家装numpy啦！！！（好像更麻烦了呢</span>\n\n<span class=\"token keyword\">def</span> 转置矩阵<span class=\"token punctuation\">(</span>矩阵<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token builtin\">len</span> <span class=\"token operator\">=</span> 矩阵<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>__len__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    输出矩阵 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        输出矩阵<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>行向量<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> 行向量 <span class=\"token keyword\">in</span> 矩阵<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> \n    <span class=\"token keyword\">return</span> 输出矩阵\n \n<span class=\"token keyword\">def</span> 向量点积向量<span class=\"token punctuation\">(</span>向量A<span class=\"token punctuation\">,</span> 向量B<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>向量A<span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>向量B<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">raise</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"雪星你又蠢啦两向量点积长度必须相同才行\"</span><span class=\"token punctuation\">)</span>\n\n    结果 <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>向量A<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        结果 <span class=\"token operator\">+=</span> 向量A<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> 向量B<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">return</span> 结果 \n\n<span class=\"token keyword\">def</span> 向量点积矩阵<span class=\"token punctuation\">(</span>向量A<span class=\"token punctuation\">,</span> 矩阵B<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    输出向量 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> 行向量 <span class=\"token keyword\">in</span> 转置矩阵<span class=\"token punctuation\">(</span>矩阵B<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        输出向量<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span> 向量点积向量<span class=\"token punctuation\">(</span>向量A<span class=\"token punctuation\">,</span> 行向量<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> 输出向量\n\n<span class=\"token keyword\">def</span> 矩阵点积矩阵<span class=\"token punctuation\">(</span>矩阵A<span class=\"token punctuation\">,</span> 矩阵B<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    输出矩阵 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> 行向量 <span class=\"token keyword\">in</span> 矩阵A<span class=\"token punctuation\">:</span>\n        输出矩阵<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span> 向量点积矩阵<span class=\"token punctuation\">(</span>行向量<span class=\"token punctuation\">,</span> 矩阵B<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> 输出矩阵\n\n\n<span class=\"token comment\"># 旋转函数</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">rotating</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">global</span> wuti\n    <span class=\"token keyword\">global</span> pointSource\n\n    theta <span class=\"token operator\">=</span> <span class=\"token number\">0.05</span> <span class=\"token comment\"># 不懂是多少度总之能转起来就行啦</span>\n    \n    <span class=\"token comment\"># 这是一个普通的2D旋转矩阵，直接查 wiki 就可以啦</span>\n    a<span class=\"token punctuation\">,</span> b <span class=\"token operator\">=</span> math<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>math<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span>\n    c<span class=\"token punctuation\">,</span> d <span class=\"token operator\">=</span> math<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  math<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># 把y轴方向固定下来，不让它转，让其它轴绕着它转</span>\n    rotateMatrix <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>a<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n    <span class=\"token comment\"># 怎么转呢？直接点积啦</span>\n    wuti <span class=\"token operator\">=</span> 矩阵点积矩阵<span class=\"token punctuation\">(</span>wuti<span class=\"token punctuation\">,</span> rotateMatrix<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># 不够过瘾？ 再加个X轴！ 以 1/4 的几率旋转，那么它就会得到一个浮动的效果。。。</span>\n    <span class=\"token keyword\">if</span> random<span class=\"token punctuation\">.</span>random<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">1</span><span class=\"token operator\">/</span><span class=\"token number\">4</span> <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">20</span><span class=\"token punctuation\">:</span> \n        <span class=\"token comment\"># 把x轴方向固定下来，不让它转，让其它轴绕着它转</span>\n        rotateMatrix <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n        <span class=\"token comment\"># 怎么转呢？直接点积啦</span>\n        wuti <span class=\"token operator\">=</span> 矩阵点积矩阵<span class=\"token punctuation\">(</span>wuti<span class=\"token punctuation\">,</span> rotateMatrix<span class=\"token punctuation\">)</span>\n\n    pointSource <span class=\"token operator\">=</span> makePointsFromLinesFromPointsToPoints<span class=\"token punctuation\">(</span>wuti<span class=\"token punctuation\">)</span>\n\n\n\n\n<span class=\"token comment\"># 接下来构造一个三维物体，比如说……</span>\n<span class=\"token comment\"># 三棱锥！  P-ABC ！！</span>\n<span class=\"token comment\"># 大概长这样</span>\n<span class=\"token comment\"># *-------*</span>\n<span class=\"token comment\"># \\＼   ／/</span>\n<span class=\"token comment\">#  \\＼ ／/</span>\n<span class=\"token comment\">#   \\ * /</span>\n<span class=\"token comment\">#    \\|/</span>\n<span class=\"token comment\">#     *</span>\nwuti <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># 点A</span>\n    <span class=\"token punctuation\">[</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># 点B</span>\n    <span class=\"token punctuation\">[</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># 点C</span>\n    <span class=\"token punctuation\">[</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># 点P</span>\n<span class=\"token punctuation\">]</span>\n\n\n<span class=\"token comment\"># 来初始化一下，第一个图形！</span>\npointSource <span class=\"token operator\">=</span> makePointsFromLinesFromPointsToPoints<span class=\"token punctuation\">(</span>wuti<span class=\"token punctuation\">)</span>\nperpareForPoints<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 运行啦！！！！</span>\nfps <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\nt <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    draw<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    rotating<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    perpareForPoints<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    dt <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> t\n    t  <span class=\"token operator\">+=</span> dt\n    os<span class=\"token punctuation\">.</span>system<span class=\"token punctuation\">(</span><span class=\"token string\">\"title \"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"fts: %d\"</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">/</span> dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"python-控制台打印函数图像\"><a href=\"#python-%E6%8E%A7%E5%88%B6%E5%8F%B0%E6%89%93%E5%8D%B0%E5%87%BD%E6%95%B0%E5%9B%BE%E5%83%8F\" aria-label=\"python 控制台打印函数图像 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Python 控制台打印函数图像</h2>\n<p>效果如图\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/97ef5da47f7bae8b5369bb79bcf9c1fe/3e755/2020-06-27-11-45-12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.76859504132231%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA9klEQVQoz42RQY6DMAxFncQJiEXpvlUrCmQ23H8VELkAq4peZ1xnJkpD6cxbWd/++DuA9/PoRu/9NE3OjfM8Uz06R8WyLHfmsWFdV9Kht1/W2qZprtcL0XXd6Xyytm/b9nZrhmHou76u6+Mr9eFQFAUIIYzWxhjxCwAgIilSyqqqqIYP0FC0RYU8UkgQkOo5gp3BkJq10T+6Uvv+dw0yU2z4P9vNf3sUomYMQ0V4rbIskYl6HHuJHZBM+tqxqfjsMLN7f2wgx8m+H4r0uvdnK1SoMTWHVvZH881h6Hmrxm2o3bVxOV2YxX5mYVF9Nsfn2S4hPRO/AShsOUOmbsevAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 06 27 11 45 12\"\n        title=\"2020 06 27 11 45 12\"\n        src=\"/static/97ef5da47f7bae8b5369bb79bcf9c1fe/36727/2020-06-27-11-45-12.png\"\n        srcset=\"/static/97ef5da47f7bae8b5369bb79bcf9c1fe/acf4b/2020-06-27-11-45-12.png 173w,\n/static/97ef5da47f7bae8b5369bb79bcf9c1fe/fc834/2020-06-27-11-45-12.png 345w,\n/static/97ef5da47f7bae8b5369bb79bcf9c1fe/36727/2020-06-27-11-45-12.png 690w,\n/static/97ef5da47f7bae8b5369bb79bcf9c1fe/17fa4/2020-06-27-11-45-12.png 1035w,\n/static/97ef5da47f7bae8b5369bb79bcf9c1fe/3e755/2020-06-27-11-45-12.png 1210w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Python 代码如下，运行环境windows</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 让控制台使用 UTF-8 编码</span>\n<span class=\"token keyword\">import</span> os<span class=\"token punctuation\">;</span> os<span class=\"token punctuation\">.</span>system<span class=\"token punctuation\">(</span><span class=\"token string\">\"chcp 65001 &amp; cls\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">import</span> math\n<span class=\"token keyword\">import</span> random\n<span class=\"token keyword\">def</span> <span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"=\"</span><span class=\"token operator\">*</span><span class=\"token number\">89</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"现在打印的是\"</span><span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">,</span> <span class=\"token string\">\"的函数图象\"</span><span class=\"token punctuation\">)</span>\n    \n    <span class=\"token comment\"># 打印范围 x 为正负 20</span>\n    w <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">40</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># 生成点集</span>\n    arrPos <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">,</span> <span class=\"token builtin\">round</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>w<span class=\"token punctuation\">,</span> w<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    \n    <span class=\"token comment\"># 生成y坐标集</span>\n    rangelist <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> arrPos<span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">for</span> y <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span>rangelist<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">min</span><span class=\"token punctuation\">(</span>rangelist<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n         <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>\n             <span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">]</span> <span class=\"token keyword\">in</span> arrPos <span class=\"token keyword\">and</span> y <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token keyword\">and</span> <span class=\"token string\">\"-*\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span>\n             <span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">]</span> <span class=\"token keyword\">in</span> arrPos <span class=\"token keyword\">and</span> <span class=\"token string\">\" *\"</span> <span class=\"token keyword\">or</span>\n             x <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token keyword\">and</span> y <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token keyword\">and</span> <span class=\"token string\">\"-|\"</span> <span class=\"token keyword\">or</span>\n             x <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token keyword\">and</span> <span class=\"token string\">\" |\"</span> <span class=\"token keyword\">or</span>\n             y <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token keyword\">and</span> <span class=\"token string\">\"--\"</span> <span class=\"token keyword\">or</span>\n             <span class=\"token string\">\"  \"</span>\n         <span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>w<span class=\"token punctuation\">,</span>w<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\nplot<span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> \n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">15</span><span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> x <span class=\"token operator\">**</span> <span class=\"token number\">2</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">and</span> math<span class=\"token punctuation\">.</span>sqrt<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">15</span><span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> x <span class=\"token operator\">**</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> random<span class=\"token punctuation\">.</span>choice<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token builtin\">input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"python-50-行代码写个贪吃蛇\"><a href=\"#python-50-%E8%A1%8C%E4%BB%A3%E7%A0%81%E5%86%99%E4%B8%AA%E8%B4%AA%E5%90%83%E8%9B%87\" aria-label=\"python 50 行代码写个贪吃蛇 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Python 50 行代码写个贪吃蛇</h2>\n<p>50行python代码写个贪吃蛇</p>\n<p>别问我为什么这么无聊，我只是想告诉一个小朋友。。。贪吃蛇真的不需要用150行来写\n上图</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0a83a573ca38e62b147a21e7684cc91b/16abd/2020-06-27-11-47-50.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.63829787234043%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABZUlEQVQoz51SzU7CQBBe6Jbd0i0UxRKgiYbEEy9mI5SE8KMnAS88i4lXXwHBliJETp4UiSE+hB9d+fMi8mUymd2dn29nhjzc371OJ8PeY9AfjD1v4vterxf0+xN/+BIEo8HT2POno+fPt/fF7GMxm0F/zedSSM0tt2/b3W633enctFpuxW1eXTebjVK57FYql6USNKRWr0PqjUa1WnUc5yIUciQEISRCDkLuOB1VNtB1PQYwpmkabEopY4wqSnQF6SMNkkmZSBHXNPjFQoQ5IwA8pLVdDEek+zmkE0mqqojck+lO8EkyCQaqqh4YDC2EQPl/B1umub5CY/4MRp845zuVl7eU7vNzfHATbFvWurmcLycEoOecMSUkgp6DlOw47CVHvksbNX+NZBt4xaRlWbhtKp+fnuXy+WKxWCgUbNs2hMhmc5mMpcfjhoGTkFqsbGyEnL+ccwKE6QpydfYde8rQD97tb/4GV4JuZMG2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 06 27 11 47 50\"\n        title=\"2020 06 27 11 47 50\"\n        src=\"/static/0a83a573ca38e62b147a21e7684cc91b/36727/2020-06-27-11-47-50.png\"\n        srcset=\"/static/0a83a573ca38e62b147a21e7684cc91b/acf4b/2020-06-27-11-47-50.png 173w,\n/static/0a83a573ca38e62b147a21e7684cc91b/fc834/2020-06-27-11-47-50.png 345w,\n/static/0a83a573ca38e62b147a21e7684cc91b/36727/2020-06-27-11-47-50.png 690w,\n/static/0a83a573ca38e62b147a21e7684cc91b/16abd/2020-06-27-11-47-50.png 940w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n嗯，代码</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> random\n<span class=\"token keyword\">import</span> msvcrt <span class=\"token comment\"># 读取键盘要用</span>\n<span class=\"token keyword\">import</span> os<span class=\"token punctuation\">;</span> os<span class=\"token punctuation\">.</span>system<span class=\"token punctuation\">(</span><span class=\"token string\">\"chcp 65001 &amp; cls\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 设定控制台编码为UTF8</span>\nw<span class=\"token punctuation\">,</span> h  <span class=\"token operator\">=</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span> <span class=\"token comment\"># 沙盘大小设定</span>\n\ndirections <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token number\">72</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token number\">77</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token number\">80</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token number\">75</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span> <span class=\"token comment\"># 四个方向，用方向键低位编号表示</span>\nheadpos <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>random<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> w<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> random<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> h<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># 头部位置</span>\nheaddpos <span class=\"token operator\">=</span> directions<span class=\"token punctuation\">[</span>random<span class=\"token punctuation\">.</span>choice<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">72</span><span class=\"token punctuation\">,</span><span class=\"token number\">77</span><span class=\"token punctuation\">,</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span><span class=\"token number\">75</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># 头部位置的变化，相当于头部方向</span>\nsnake <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>headpos<span class=\"token punctuation\">]</span> <span class=\"token comment\">#蛇身，其实就是一堆坐标</span>\nfoods <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">#食物</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">posChar</span><span class=\"token punctuation\">(</span>pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\">#决定某个坐标显示的东西</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>pos <span class=\"token keyword\">in</span> snake <span class=\"token keyword\">and</span> <span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> \n            <span class=\"token punctuation\">(</span>pos <span class=\"token keyword\">in</span> foods <span class=\"token keyword\">and</span> <span class=\"token string\">\"%\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> <span class=\"token string\">\" \"</span> <span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">printSnake</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    outputs <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    outputs<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">\"欢迎来到雪星实验室 - 贪吃蛇 ================================\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> y <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>h<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        outputs<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span> posChar<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>w<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" |\"</span><span class=\"token punctuation\">)</span>\n    outputs<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">\"欢迎来到雪星实验室 - 贪吃蛇 ================================\"</span><span class=\"token punctuation\">)</span>\n\n    os<span class=\"token punctuation\">.</span>system<span class=\"token punctuation\">(</span><span class=\"token string\">\"cls\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>outputs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">go</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">global</span> headdpos\n    <span class=\"token keyword\">global</span> headpos\n    <span class=\"token keyword\">if</span> random<span class=\"token punctuation\">.</span>random<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0.1</span> <span class=\"token keyword\">or</span> foods<span class=\"token punctuation\">.</span>__len__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n        foods<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>random<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> w<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> random<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> h<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    printSnake<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">#先打印当前地图</span>\n    userkey <span class=\"token operator\">=</span> msvcrt<span class=\"token punctuation\">.</span>getch<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token string\">b'\\xe0'</span> <span class=\"token keyword\">and</span> msvcrt<span class=\"token punctuation\">.</span>getch<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> <span class=\"token string\">\" \"</span> <span class=\"token comment\"># 等待用户按键</span>\n    headdpos <span class=\"token operator\">=</span> directions<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">ord</span><span class=\"token punctuation\">(</span>userkey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> headdpos<span class=\"token punctuation\">)</span> <span class=\"token comment\"># 根据按键设定方向</span>\n    headpos <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>x<span class=\"token operator\">+</span>y <span class=\"token keyword\">for</span> x<span class=\"token punctuation\">,</span> y <span class=\"token keyword\">in</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span>headpos<span class=\"token punctuation\">,</span> headdpos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># 坐标相加</span>\n    snake<span class=\"token punctuation\">.</span>insert<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> headpos<span class=\"token punctuation\">)</span> <span class=\"token comment\"># 向头部前进一个位置</span>\n    <span class=\"token keyword\">if</span> headpos <span class=\"token keyword\">in</span> foods<span class=\"token punctuation\">:</span> <span class=\"token comment\"># 如果吃到了食物</span>\n        foods<span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">(</span>headpos<span class=\"token punctuation\">)</span> <span class=\"token comment\"># 就移除这个食物</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span> <span class=\"token comment\">#如果没东西吃</span>\n        snake<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 那蛇尾就没掉了</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">liveQ</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span>  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>headpos<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>w<span class=\"token punctuation\">)</span> <span class=\"token keyword\">and</span> headpos<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>h<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 没撞墙</span>\n             <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">not</span> headpos <span class=\"token keyword\">in</span> snake<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token comment\"># 也没撞自己</span>\n\n<span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>liveQ<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    go<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"大侠请重新来过 ..................\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token builtin\">input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>","timeToRead":7,"excerpt":"几个 Python 控制台交互练习 用 python 写了个3D旋转三角形 先上效果图！  然后是代码！ Python 控制台打印函数图像 效果如图\n Python 代码如下，运行环境windows Python 50 行代码写个贪吃蛇 50行python…","tableOfContents":"<ul>\n<li><a href=\"/SNOLAB-4296/#%E7%94%A8-python-%E5%86%99%E4%BA%86%E4%B8%AA3d%E6%97%8B%E8%BD%AC%E4%B8%89%E8%A7%92%E5%BD%A2\">用 python 写了个3D旋转三角形</a></li>\n<li><a href=\"/SNOLAB-4296/#python-%E6%8E%A7%E5%88%B6%E5%8F%B0%E6%89%93%E5%8D%B0%E5%87%BD%E6%95%B0%E5%9B%BE%E5%83%8F\">Python 控制台打印函数图像</a></li>\n<li><a href=\"/SNOLAB-4296/#python-50-%E8%A1%8C%E4%BB%A3%E7%A0%81%E5%86%99%E4%B8%AA%E8%B4%AA%E5%90%83%E8%9B%87\">Python 50 行代码写个贪吃蛇</a></li>\n</ul>","frontmatter":{"title":"Python 控制台交互练习","cover":"./用python写了个3D旋转三角形.gif","date":"2016-09-02T00:00:00.000Z","categories":["编程"],"tags":["编程","Python"]},"fields":{"slug":"/SNOLAB-4296","date":"September 01, 2016"}}},"pageContext":{"slug":"/SNOLAB-4296","nexttitle":"Mathematica 批量缩放图片","nextslug":"/SNOLAB-4260","prevtitle":"💡非线性时间连续操控感 - 论如何提升键盘编辑操作体验","prevslug":"/SNOLAB-47E2"}}}